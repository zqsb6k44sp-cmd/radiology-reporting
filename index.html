<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RobCo Industries Medical Terminal - USG Report System</title>
    <link rel="stylesheet" href="css/fallout-theme.css">
    <link rel="stylesheet" href="css/editor.css">
    <link rel="stylesheet" href="css/print.css">
</head>
<body>
    <div class="terminal-container">
        <div class="terminal-header">
            <h1>ROBCO INDUSTRIES (TM) UNIFIED OPERATING SYSTEM</h1>
            <p>ULTRASOUND REPORT GENERATION TERMINAL</p>
            <div id="userInfo" style="margin-top: 15px; display: flex; justify-content: center; align-items: center; gap: 20px;"></div>
        </div>

        <div id="messageContainer"></div>

        <div class="split-container">
            <!-- Left Panel: Editor -->
            <div class="editor-panel">
                <div class="panel-header">[ REPORT EDITOR ]</div>

                <!-- Patient Data Form -->
                <div id="patientDataForm" class="hidden">
                    <form id="patientForm">
                        <div class="form-group">
                            <label for="patientName">PATIENT NAME: *</label>
                            <input type="text" id="patientName" required>
                        </div>

                        <div class="form-group">
                            <label for="age">AGE/DOB: *</label>
                            <input type="text" id="age" placeholder="e.g., 45 years or 1980-05-15" required>
                        </div>

                        <div class="form-group">
                            <label for="gender">GENDER: *</label>
                            <select id="gender" required>
                                <option value="">Select...</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="examDate">DATE OF EXAMINATION: *</label>
                            <input type="date" id="examDate" required>
                        </div>

                        <div class="form-group">
                            <label for="referringDoctor">REFERRING DOCTOR:</label>
                            <input type="text" id="referringDoctor">
                        </div>

                        <div class="form-group">
                            <label for="clinicalHistory">CLINICAL HISTORY:</label>
                            <textarea id="clinicalHistory" rows="3"></textarea>
                        </div>

                        <div class="button-group">
                            <button type="button" class="terminal-button" id="loadTemplateBtn">[ LOAD TEMPLATE ]</button>
                        </div>
                    </form>
                </div>

                <!-- Report Editor -->
                <div style="margin-top: 15px;">
                    <label style="display: block; margin-bottom: 5px; color: var(--terminal-amber);">REPORT CONTENT:</label>
                    <textarea id="reportEditor" class="report-editor" placeholder="Select a template and fill patient data to begin..."></textarea>
                </div>

                <!-- Editor Controls -->
                <div class="button-group mt-20">
                    <button class="terminal-button" id="saveDraftBtn">[ SAVE DRAFT ]</button>
                    <button class="terminal-button" id="finishReportBtn">[ FINISH REPORT ]</button>
                    <button class="terminal-button secondary" id="printBtn">[ PRINT ]</button>
                    <button class="terminal-button secondary" id="clearBtn">[ CLEAR ]</button>
                </div>

                <!-- Drafts Section -->
                <div style="margin-top: 30px;">
                    <div class="panel-header">[ SAVED DRAFTS ]</div>
                    <ul id="draftsList" class="report-list"></ul>
                </div>
            </div>

            <!-- Right Panel: Templates -->
            <div class="template-panel">
                <div class="panel-header">[ SELECT TEMPLATE ]</div>
                <ul id="templatesList" class="template-list"></ul>

                <div style="margin-top: 30px; padding: 15px; border: 1px solid var(--terminal-amber);">
                    <h3 style="color: var(--terminal-amber); margin-bottom: 10px;">INSTRUCTIONS:</h3>
                    <ol style="margin-left: 20px; font-size: 0.9em;">
                        <li>Select a template from the list above</li>
                        <li>Fill in patient data in the form</li>
                        <li>Click "LOAD TEMPLATE" to populate editor</li>
                        <li>Edit the report as needed</li>
                        <li>Save as draft or finish report</li>
                        <li>Use PRINT to generate final report</li>
                    </ol>
                    <p style="margin-top: 15px; color: var(--terminal-amber);">
                        <a href="admin.html" style="color: var(--terminal-amber);">[ VIEW REPORTS ]</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/templates.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
